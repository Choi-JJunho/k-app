# K-App 프로젝트 Onboarding

이 문서는 K-App 프로젝트의 신규 참여자를 위한 기술적인 개요와 아키텍처, 주요 비즈니스 로직을 안내합니다.

## 1. 기술 스택

- **언어**: Kotlin
- **프레임워크**: Spring Boot
- **빌드 도구**: Gradle (Kotlin DSL)
- **아키텍처**: Multi-module Layered Architecture (DDD, Hexagonal Architecture)

## 2. 프로젝트 아키텍처

본 프로젝트는 계층형 아키텍처를 따르며, 각 계층은 독립적인 모듈로 분리되어 있습니다. 이를 통해 각 계층의 역할을 명확히 하고 의존성을 관리합니다.

```
+-----------------+      +-----------------+
|      api        |----->|      core       |
+-----------------+      +-----------------+
                             ^
                             |
+-----------------+      |
|     infra       |------+
+-----------------+
```

- **`core`**: 프로젝트의 핵심 비즈니스 로직과 도메인 모델을 포함합니다. 다른 모듈에 대한 의존성이 없는 순수한 비즈니스 로직의 집합체입니다.
    - 주요 도메인: `User`, `Meal`
    - `core` 모듈은 외부 세계(DB, API 등)에 대해 알지 못하며, 필요한 기능은 인터페이스(Repository 등)를 통해 정의합니다.

- **`infra`**: 인프라스트럭처 계층으로, `core`에서 정의한 인터페이스의 실제 구현을 담당합니다.
    - 예: 데이터베이스 연동(JPA, RDB), 외부 서비스 호출 등
    - `infra` 모듈은 `core` 모듈에 의존하여 `core`의 인터페이스를 구현합니다.

- **`api`**: 외부 세계와의 접점으로, REST API 엔드포인트를 제공합니다.
    - Spring MVC 컨트롤러를 사용하여 HTTP 요청을 처리하고, `core` 계층의 서비스를 호출하여 비즈니스 로직을 수행합니다.
    - `api` 모듈은 `core` 모듈에 의존하여 비즈니스 로직을 사용합니다.

## 3. API 명세

API 명세는 프로젝트 루트의 `API_SPEC.md` 파일에 상세히 기술되어 있습니다. 주요 기능은 다음과 같습니다.

- **식단 API**: 날짜별 식단 정보 조회
- **인증 API**: 회원가입, 로그인, 로그아웃, 토큰 갱신
- **영양 정보 API**: 일별/기간별 영양 정보 조회 및 분석
- **프로필 관리 API**: 사용자 프로필 조회 및 수정, 선호도 설정
- **즐겨찾기 API**: 즐겨찾는 메뉴 관리

자세한 엔드포인트, 요청/응답 형식은 `API_SPEC.md` 파일을 참고하세요.

## 4. 주요 비즈니스 로직

핵심 비즈니스 로직은 `core` 모듈 내 `domain` 패키지에 위치합니다.

- **`koreatech.kapp.domain.user`**: 사용자 관련 도메인
    - `User`: 사용자 모델 (계정 정보, 프로필 등)
    - `UserRepository`: 사용자 데이터 영속성을 위한 인터페이스
    - `UserDomainService`: 사용자 관련 비즈니스 로직 처리

- **`koreatech.kapp.domain.meal`**: 식단 관련 도메인
    - `Meal`: 식단 모델 (날짜, 메뉴, 칼로리, 가격 등)
    - `MealRepository`: 식단 데이터 영속성을 위한 인터페이스
    - `MealDomainService`: 식단 관련 비즈니스 로직 처리

- **`koreatech.kapp.domain.shared`**: 여러 도메인에서 공통으로 사용되는 값 객체 (Value Object)
    - `Money`: 금액 표현
    - `Email`: 이메일 형식 표현

## 5. 빌드 및 실행

### 전체 빌드

프로젝트 루트 디렉토리에서 다음 명령어를 실행하여 전체 모듈을 빌드할 수 있습니다.

```bash
./gradlew build
```

### 애플리케이션 실행

`api` 모듈의 `bootRun` 태스크를 사용하여 애플리케이션을 실행합니다.

```bash
./gradlew :api:bootRun
```

애플리케이션이 실행되면 `http://localhost:8080` 에서 API를 테스트할 수 있습니다.
